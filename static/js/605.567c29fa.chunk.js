"use strict";(self.webpackChunkit_react_1=self.webpackChunkit_react_1||[]).push([[605],{2569:function(t,s,e){e.r(s),e.d(s,{default:function(){return U}});var r=e(1413),n=e(5671),o=e(3144),i=e(136),u=e(2882),a=e(2791),p=e(6070),c=e(6139),l=e(704),d="MyPosts_postsBlock__lB-pf",h="MyPosts_posts__GSiZ2",f="Post_item__Yu4oG",m=e(184),x=function(t){return(0,m.jsxs)("div",{className:f,children:[(0,m.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR5X1bnwLsxFXgAyBY00Kujl6PBKJ5t9fbVkg&usqp=CAU"}),t.message,(0,m.jsxs)("div",{children:[(0,m.jsx)("span",{children:"like"})," ",t.likesCount]})]})},j=e(5304),v=(e.p,(0,j.D)(10)),P=(0,l.Z)({form:"ProfileAddNewPostForm"})((function(t){return(0,m.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,m.jsx)("div",{children:(0,m.jsx)(c.Z,{name:"newPostText",component:"Textarea",placeholder:"Post message",validate:[j.C,v]})}),(0,m.jsx)("div",{children:(0,m.jsx)("button",{children:" Add post"})})]})})),g=function(t){var s=t.posts.map((function(t){return(0,m.jsx)(x,{message:t.message,likesCount:t.likesCount})}));return(0,m.jsxs)("div",{className:d,children:[(0,m.jsx)("h3",{children:" My posts "}),(0,m.jsx)(P,{onSubmit:function(s){t.addPost(s.newPostText)}}),(0,m.jsx)("div",{className:h,children:s})]})},_=e(8687),k=(0,_.$j)((function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText}}),(function(t){return{addPost:function(s){t((0,p.Wl)(s))}}}))(g),S=e(2733),Z="ProfileInfo_descriptionBlock__XBXuJ",w="ProfileInfo_mainPhoto__QU8TO",y=e(885),b=function(t){var s=(0,a.useState)(!1),e=(0,y.Z)(s,2),r=e[0],n=e[1],o=(0,a.useState)(t.status),i=(0,y.Z)(o,2),u=i[0],p=i[1];(0,a.useEffect)((function(){p(t.status)}),[t.status]);return(0,m.jsxs)("div",{children:[!r&&(0,m.jsx)("div",{children:(0,m.jsxs)("span",{onDoubleClick:function(){n(!0)},children:[" ",t.status||"----"," "]})}),r&&(0,m.jsx)("div",{children:(0,m.jsx)("input",{onChange:function(t){p(t.currentTarget.value)},autoFocus:!0,onBlur:function(){n(!1),t.updateStatus(u)},value:u})})]})},C=e(4353),I=function(t){var s=t.profile,e=t.status,r=t.updateStatus,n=t.isOwner,o=t.savePhoto;if(!s)return(0,m.jsx)(S.Z,{});return(0,m.jsx)("div",{children:(0,m.jsxs)("div",{className:Z,children:[(0,m.jsx)("img",{src:s.photos.large||C,className:w}),n&&(0,m.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&o(t.target.files[0])}}),(0,m.jsx)(b,{status:e,updateStatus:r})]})})},N=function(t){return(0,m.jsxs)("div",{children:[(0,m.jsx)(I,{savePhoto:t.savePhoto,isOwner:t.isOwner,profile:t.profile,status:t.status,updateStatus:t.updateStatus}),(0,m.jsx)(k,{})]})},A=e(3679),B=e(7781),T=function(t){(0,i.Z)(e,t);var s=(0,u.Z)(e);function e(){return(0,n.Z)(this,e),s.apply(this,arguments)}return(0,o.Z)(e,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,s,e){this.props.match.params.userId!=t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,m.jsx)(N,(0,r.Z)((0,r.Z)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))}}]),e}(a.Component),U=(0,B.compose)((0,_.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getUserProfile:p.et,getStatus:p.lR,updateStatus:p.Nf,savePhoto:p.Ju}),A.Z)(T)}}]);
//# sourceMappingURL=605.567c29fa.chunk.js.map