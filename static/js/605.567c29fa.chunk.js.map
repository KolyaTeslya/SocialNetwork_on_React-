{"version":3,"file":"static/js/605.567c29fa.chunk.js","mappings":"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","sources":["webpack://it-react-1/./src/components/Profile/MyPosts/MyPosts.module.css?831b","webpack://it-react-1/./src/components/Profile/MyPosts/Post/Post.module.css?87e6","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","webpack://it-react-1/./src/components/Profile/ProfileInfo/ProfileInfo.module.css?ead2","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"postsBlock\":\"MyPosts_postsBlock__lB-pf\",\"posts\":\"MyPosts_posts__GSiZ2\"};","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"Post_item__Yu4oG\"};","import React from \"react\";\nimport s from \"./Post.module.css\";\n\nconst Post = (props) => {\n  return (\n    <div className={s.item}>\n      <img src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR5X1bnwLsxFXgAyBY00Kujl6PBKJ5t9fbVkg&usqp=CAU\" />\n      {props.message}\n      <div>\n        <span>like</span> {props.likesCount}\n      </div>\n    </div>\n  );\n};\n\nexport default Post;\n","import React from \"react\";\nimport { Field, reduxForm } from \"redux-form\"\nimport s from \"./MyPosts.module.css\";\nimport Post from \"./Post/Post\";\nimport { required, maxLengthCreator } from \"../../../utils/validators/validators\";\nimport Textarea from \"../../common/FormsControls/FormsControls\";\n\nconst maxLength10 = maxLengthCreator(10); \n\nlet AddNewPostForm = (props) => {\n  return <form onSubmit={props.handleSubmit}>\n            <div>\n              <Field name=\"newPostText\" component={\"Textarea\"} placeholder={\"Post message\"}\n                     validate={[required, maxLength10 ]} />\n            </div>\n        <div>\n             <button> Add post</button>\n        </div>\n  </form>\n}\n\nlet AddNewPostFormRedux = reduxForm({form: \"ProfileAddNewPostForm\"}) (AddNewPostForm);\n\n\nconst MyPosts = (props) => {\n\nlet postsElements = \n    props.posts.map( p => <Post message={p.message} likesCount={p.likesCount} />); \n\n  let newPostElement = React.createRef();\n\n  let onAddPost = (values) => {\n    props.addPost(values.newPostText);\n  }\n\n  return (\n    <div className={s.postsBlock}>\n      <h3> My posts </h3>\n      <AddNewPostFormRedux onSubmit={onAddPost} />\n      <div className={s.posts}>\n          { postsElements }\n      </div>\n    </div>\n  );\n}\n\n\n\nexport default MyPosts;\n","import React from \"react\";\nimport { addPostActionCreator } from \"../../../redux/profile-reducer\";\nimport MyPosts from \"./MyPosts\";\nimport {connect} from \"react-redux\"\n\nconst mapStateToProps = (state) => {\n  return {\n    posts: state.profilePage.posts,\n    newPostText: state.profilePage.newPostText\n  }\n}\n\nlet mapDispatchToProps = (dispatch) => {\n  return {\n    addPost: (newPostText) => { \n        dispatch(addPostActionCreator(newPostText));\n    }\n  }\n}\n\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\n\nexport default MyPostsContainer;\n","// extracted by mini-css-extract-plugin\nexport default {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__XBXuJ\",\"mainPhoto\":\"ProfileInfo_mainPhoto__QU8TO\"};","import React, { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport s from \"./ProfileInfo.module.css\";\n\nlet arr = [0, () => {}];\n\nconst ProfileStatusWithHooks = (props) => {\n  let [editMode, setEditMode] = useState(false);\n  let [status, setStatus] = useState(props.status);\n\n  useEffect( () => {\n    setStatus(props.status);\n  }, [props.status] );\n\n  const activateEditMode = () => {\n      setEditMode(true);\n  }\n\n  const deactivateEditMode = () => {\n    setEditMode(false);\n    props.updateStatus(status);\n  }\n\n  const onStatusChange = (e) => {\n    setStatus(e.currentTarget.value); \n  }\n\n  return (\n    <div>\n      { !editMode &&\n        <div>\n          <span onDoubleClick={ activateEditMode }> {props.status || \"----\"} </span>\n        </div>\n      }\n      {editMode && (  \n        <div>\n          <input onChange={onStatusChange} autoFocus={true} \n                 onBlur={ deactivateEditMode }\n                 value={status} />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ProfileStatusWithHooks;\n","import React from \"react\";\nimport Preloader from \"../../common/Preloader/Preloader\";\nimport s from './ProfileInfo.module.css';\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\nimport userPhoto from \"../../../assets/images/user.png\";\n\n\n\nconst ProfileInfo = ({profile, status, updateStatus, isOwner, savePhoto}) => {\n  if (!profile) {\n    return <Preloader />\n  }\n\n  const onMainPhotoSelected = (e) => {\n      if(e.target.files.length){\n        savePhoto(e.target.files[0]);\n      }\n  }\n  \n  return (\n    <div>\n        <div className={s.descriptionBlock}>\n          <img src={profile.photos.large || userPhoto} className={s.mainPhoto} />\n          { isOwner && <input type={\"file\"} onChange={onMainPhotoSelected} /> }\n          <ProfileStatusWithHooks status={status} updateStatus={updateStatus} />\n        </div>  \n      </div>\n  );\n};\n\nexport default ProfileInfo;\n","import React from \"react\";\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\n\nconst Profile = (props) => {\n  return (\n    <div>\n        <ProfileInfo savePhoto={props.savePhoto}\n                     isOwner={props.isOwner} \n                     profile={props.profile} \n                     status={props.status} \n                     updateStatus={props.updateStatus} />\n        <MyPostsContainer />\n      </div>\n  );\n};\n\nexport default Profile;\n","import React from \"react\";\nimport Profile from \"./Profile\";\nimport { connect } from \"react-redux\";\nimport { getUserProfile } from \"../../redux/profile-reducer\";\nimport { withRouter } from \"react-router-dom\";\nimport { compose } from \"redux\";\nimport {\n  getStatus,\n  updateStatus,\n  savePhoto\n} from \"../../redux/profile-reducer\";\n\n\nclass ProfileContainer extends React.Component {\n  \n  refreshProfile() {\n    let userId = this.props.match.params.userId;\n    if(!userId) {\n      userId = this.props.authorizedUserId; // 27619\n      if(!userId) {\n        this.props.history.push(\"/login\");\n      }\n    }\n    this.props.getUserProfile(userId);\n    this.props.getStatus(userId);\n  }\n\n  componentDidMount() {\n    this.refreshProfile();\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if(this.props.match.params.userId != prevProps.match.params.userId) {\n       this.refreshProfile()\n    }\n  }\n  \n  render() {\n    return (\n        <Profile {...this.props} \n          isOwner={!this.props.match.params.userId}\n          profile={this.props.profile} \n          status={this.props.status } \n          updateStatus = {this.props.updateStatus}\n          savePhoto={this.props.savePhoto} />\n    )\n  }\n}\n\nlet mapStateToProps = (state) => {\n  return({\n  profile: state.profilePage.profile,\n  status: state.profilePage.status,\n  authorizedUserId: state.auth.userId,\n  isAuth: state.auth.isAuth\n});\n}\n\nexport default compose(\n  connect(mapStateToProps, {getUserProfile, getStatus, updateStatus, savePhoto }),\n  withRouter\n)(ProfileContainer);\n\n\n\n\n\n\n"],"names":["props","className","s","src","message","likesCount","maxLength10","maxLengthCreator","AddNewPostFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","name","component","placeholder","validate","required","postsElements","posts","map","p","values","addPost","newPostText","connect","state","profilePage","dispatch","addPostActionCreator","MyPosts","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","value","autoFocus","onBlur","updateStatus","profile","isOwner","savePhoto","Preloader","photos","large","userPhoto","type","target","files","length","ProfileContainer","userId","this","match","params","authorizedUserId","history","push","getUserProfile","getStatus","refreshProfile","prevProps","prevState","snapshot","React","compose","auth","isAuth","withRouter"],"sourceRoot":""}