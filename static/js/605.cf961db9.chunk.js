"use strict";(self.webpackChunkit_react_1=self.webpackChunkit_react_1||[]).push([[605],{2569:function(s,t,e){e.r(t),e.d(t,{default:function(){return T}});var i=e(1413),o=e(5671),n=e(3144),r=e(136),a=e(2882),u=e(2791),l=e(6070),c=e(6139),d=e(704),p="MyPosts_postsBlock__lB-pf",h="MyPosts_posts__GSiZ2",f="Post_item__Yu4oG",x=e(184),j=function(s){return(0,x.jsxs)("div",{className:f,children:[(0,x.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR5X1bnwLsxFXgAyBY00Kujl6PBKJ5t9fbVkg&usqp=CAU"}),s.message,(0,x.jsxs)("div",{children:[(0,x.jsx)("span",{children:"like"})," ",s.likesCount]})]})},m=e(5304),v=(e.p,(0,m.D)(10)),P=(0,d.Z)({form:"ProfileAddNewPostForm"})((function(s){return(0,x.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,x.jsx)("div",{children:(0,x.jsx)(c.Z,{name:"newPostText",component:"Textarea",placeholder:"Post message",validate:[m.C,v]})}),(0,x.jsx)("div",{children:(0,x.jsx)("button",{children:" Add post"})})]})})),g=function(s){var t=s.posts.map((function(s){return(0,x.jsx)(j,{message:s.message,likesCount:s.likesCount})}));return(0,x.jsxs)("div",{className:p,children:[(0,x.jsx)("h3",{children:" My posts "}),(0,x.jsx)(P,{onSubmit:function(t){s.addPost(t.newPostText)}}),(0,x.jsx)("div",{className:h,children:t})]})},b=e(8687),k=(0,b.$j)((function(s){return{posts:s.profilePage.posts,newPostText:s.profilePage.newPostText}}),(function(s){return{addPost:function(t){s((0,l.Wl)(t))}}}))(g),_=e(2733),S="ProfileInfo_descriptionBlock__XBXuJ",y="ProfileInfo_mainPhoto__QU8TO",Z=e(885),w=function(s){var t=(0,u.useState)(!1),e=(0,Z.Z)(t,2),i=e[0],o=e[1],n=(0,u.useState)(s.status),r=(0,Z.Z)(n,2),a=r[0],l=r[1];(0,u.useEffect)((function(){l(s.status)}),[s.status]);return(0,x.jsxs)("div",{children:[!i&&(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"Status: "}),(0,x.jsxs)("span",{onDoubleClick:function(){o(!0)},children:[" ",s.status||"----"," "]})]}),i&&(0,x.jsx)("div",{children:(0,x.jsx)("input",{onChange:function(s){l(s.currentTarget.value)},autoFocus:!0,onBlur:function(){o(!1),s.updateStatus(a)},value:a})})]})},C=e(4353),A=function(s){var t=s.profile,e=s.status,i=s.updateStatus,o=s.isOwner,n=s.savePhoto;if(!t)return(0,x.jsx)(_.Z,{});return(0,x.jsx)("div",{children:(0,x.jsxs)("div",{className:S,children:[(0,x.jsx)("img",{src:t.photos.large||C,className:y}),o&&(0,x.jsx)("input",{type:"file",onChange:function(s){s.target.files.length&&n(s.target.files[0])}}),(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"Full name"}),": ",t.fullName]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"Lookig for a job"}),": ",t.lookingForAJob?"yes":"no"]}),t.lookingForAJob&&(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"My professional skills"}),": ",t.lookingForAJobDescription]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"About me"}),": ",t.aboutMe]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"Contacts"}),": ",Object.keys(t.contacts)]})]}),(0,x.jsx)(w,{status:e,updateStatus:i})]})})},I=function(s){return(0,x.jsxs)("div",{children:[(0,x.jsx)(A,{savePhoto:s.savePhoto,isOwner:s.isOwner,profile:s.profile,status:s.status,updateStatus:s.updateStatus}),(0,x.jsx)(k,{})]})},N=e(3679),B=e(7781),F=function(s){(0,r.Z)(e,s);var t=(0,a.Z)(e);function e(){return(0,o.Z)(this,e),t.apply(this,arguments)}return(0,n.Z)(e,[{key:"refreshProfile",value:function(){var s=this.props.match.params.userId;s||(s=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(s),this.props.getStatus(s)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(s,t,e){this.props.match.params.userId!=s.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,x.jsx)(I,(0,i.Z)((0,i.Z)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))}}]),e}(u.Component),T=(0,B.compose)((0,b.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.auth.userId,isAuth:s.auth.isAuth}}),{getUserProfile:l.et,getStatus:l.lR,updateStatus:l.Nf,savePhoto:l.Ju}),N.Z)(F)}}]);
//# sourceMappingURL=605.cf961db9.chunk.js.map